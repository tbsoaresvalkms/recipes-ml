(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{"4KlA":function(module,exports,e){},"4qg5":function(module,e,t){"use strict";var n=t("W8MJ"),a=t.n(n),r=t("VYij"),i=t.n(r),s=t("SIjG"),o=t("w18m"),c=t("JzBE"),u=t("ibP9"),l=function(){function CourseRatings(){this.ratingValue=i()(Object(s.a)()).find(function(e){return-1===e.value}),this.learnerAudience=i()(Object(o.a)()).find(function(e){return"ALL_LEARNERS"===e.id}),this.branchId=u.a,this.statsMap={},this.reviewCollectionsMap={},this.initMapsForBranchId(u.a)}var e=CourseRatings.prototype;return e.initMapsForBranchId=function initMapsForBranchId(e){var t=this;this.statsMap[e]={},this.reviewCollectionsMap[e]={},i()(Object(o.a)()).each(function(n){var a=n.id,r={};i()(Object(s.a)()).each(function(e){r[e.value]=new c.a}),t.statsMap[e][a]=null,t.reviewCollectionsMap[e][a]=r})},e.setBranchId=function setBranchId(e){this.branchId=e,this.statsMap[e]||this.initMapsForBranchId(e)},e.setRatingValue=function setRatingValue(e){this.ratingValue=e},e.setLearnerAudience=function setLearnerAudience(e){this.learnerAudience=e},e.appendReviews=function appendReviews(e,t){var n=this.reviewCollection;n.appendPage(e),n.setTotalCount(t)},e.deleteReview=function deleteReview(e){i()(this.reviewCollectionsMap).each(function(t){return i()(t).each(function(t){t.models=i()(t.models).filter(function(t){return t.id!==e})})})},e.setStats=function setStats(e){this.statsMap[this.branchId][this.learnerAudience.id]=e},a()(CourseRatings,[{key:"reviewCollection",get:function get(){return this.reviewCollectionsMap[this.branchId][this.learnerAudience.id][this.ratingValue.value]}},{key:"stats",get:function get(){return this.statsMap[this.branchId][this.learnerAudience.id]}}]),CourseRatings}();e.a=l},"5E6G":function(module,e,t){"use strict";var n=t("Vroy"),a=t("7cAV"),r=t("mVDR"),i=t("lXpx"),s=t("iILo"),o=t("8GKI"),c=t("f6kW"),u,l=new(t.n(c).a);l.registerStore(n.a),l.registerStore(a.a),l.registerStore(r.a),l.registerStore(s.a),l.registerStore(i.a),l.registerStore(o.a),e.a=l},"7cAV":function(module,e,t){"use strict";var n=t("VvWD"),a=t.n(n),r=t("VYij"),i=t.n(r),s=["branchPropertiesById","conflictMetadataById"],o=a()({storeName:"BranchPropertiesStore",dehydrate:function dehydrate(){return i.a.pick.apply(i.a,[this].concat(s))},rehydrate:function rehydrate(e){Object.assign(this,i.a.pick.apply(i.a,[e].concat(s)))},initialize:function initialize(){this.branchPropertiesById={},this.conflictMetadataById={}},getAllBranchProperties:function getAllBranchProperties(){return this.branchPropertiesById},getAllConflictMetadata:function getAllConflictMetadata(){return this.conflictMetadataById},getBranchPropertiesById:function getBranchPropertiesById(e){return this.branchPropertiesById[e]},getConflictMetadataById:function getConflictMetadataById(e){return this.conflictMetadataById[e]},updateBranchProperties:function updateBranchProperties(e,t){this.branchPropertiesById[e]=t,this.branchPropertiesById[e].id=e},updateConflictMetadata:function updateConflictMetadata(e,t){this.conflictMetadataById[e]=t}});o.handlers={RECEIVED_BRANCHES_FOR_COURSE:function RECEIVED_BRANCHES_FOR_COURSE(e){var t=this;e.forEach(function(e){var n=e.id,a=e.properties,r=e.conflictMetadata;t.updateBranchProperties(n,a),t.updateConflictMetadata(n,r)}),this.emitChange()},RECEIVED_BRANCH_PROPERTIES:function RECEIVED_BRANCH_PROPERTIES(e){var t=e.branchId,n=e.properties;this.updateBranchProperties(t,n),this.emitChange()},SAVE_CONFLICT_METADATA_FOR_BRANCH:function SAVE_CONFLICT_METADATA_FOR_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()},SAVE_BRANCH:function SAVE_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()}},e.a=o},"ByX+":function(module,e,t){"use strict";var n=t("W8MJ"),a=t.n(n),r=t("Cw6J"),i=function(){function AuthoringCourse(e){var t=e.description,n=e.domainTypes,a=e.faqs,i=e.headerImage,s=e.id,o=e.instructorIds,c=e.isPrivate,u=e.isReal,l=e.isRestrictedMembership,d=e.isSubtitleTranslationEnabled,h=e.isVerificationEnabled,g=e.launchedAt,f=e.level,p=e.name,C=e.overridePartnerLogos,v=e.partners,m=e.partnerIds,R=e.premiumExperiences,E=e.previewUserIds,b=e.primaryLanguageCodes,S=e.promoPhoto,A=e.s3Prefix,I=e.sessionSchedule,y=e.sessionsEnabledAt,B=e.slug,N=e.subtitleLanguageCodes;this.description=t,this.domainTypes=n,this.faqs=a,this.headerImage=i,this.id=s,this.isPrivate=c,this.isReal=u,this.isRestrictedMembership=l,this.isSubtitleTranslationEnabled=d,this.isVerificationEnabled=h,this.launchedAt=g,this.name=p,this.overridePartnerLogos=C,this.partners=v&&v.map(function(e){return new r.a(e)}),this.partnerIds=m,this.instructorIds=o,this.premiumExperiences=R,this.previewUserIds=E,this.primaryLanguageCodes=b,this.promoPhoto=S,this.s3Prefix=A,this.sessionSchedule=I,this.sessionsEnabledAt=y,this.slug=B,this.subtitleLanguageCodes=N}var e;return AuthoringCourse.prototype.get=function get(e){return this[e]},a()(AuthoringCourse,[{key:"universities",get:function get(){return this.partners}},{key:"isLaunched",get:function get(){return!!this.launchedAt&&this.launchedAt<=Date.now()}}]),AuthoringCourse}();e.a=i},CBtc:function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=t("Md22"),i=function AuthoringCourseBranch(e){var t=e.associatedSessions,n=e.branchStatus,i=e.changesDescription,s=e.courseBranchId,o=e.courseId,c=e.createdAt,u=e.id,l=e.isPrivate,d=e.listed,h=e.name;this.associatedSessions=a()(t).mapObject(function(e){return new r.a(e)}),this.branchStatus=n,this.changesDescription=i,this.courseBranchId=s,this.courseId=o,this.createdAt=c,this.id=u,this.isPrivate=l,this.listed=d,this.name=h};e.a=i},Cw6J:function(module,e,t){"use strict";var n=function Partner(e){var t=e.id,n=e.name,a=e.shortName,r=e.squareLogo;this.id=t,this.name=n,this.shortName=a,this.squareLogo=r};e.a=n},Fg3N:function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),a=t.n(n),r=t("17x9"),i=t.n(r),s=t("sbe7"),o=t.n(s),c=t("YCpq"),u=t("OOvi"),l=t("5E6G"),d=t("L1vm"),h=t("ngyh"),g=t.n(h),f=t("EVkW"),p=t("bEJl"),C=t("GAn1"),v=t.n(C),m=function(e){function CourseRating(){return e.apply(this,arguments)||this}a()(CourseRating,e);var t=CourseRating.prototype;return t.componentDidMount=function componentDidMount(){this.context.executeAction(u.b,{ratingFeedback:this.props.ratingFeedback})},t.render=function render(){if(!c.a.get("authenticated"))return null;return o.a.createElement("div",{className:"rc-CourseRating"},o.a.createElement(p.a,{course:this.props.course}))},CourseRating}(o.a.Component);m.propTypes={course:i.a.object.isRequired,ratingFeedback:i.a.instanceOf(f.a).isRequired},m.contextTypes={executeAction:i.a.func.isRequired};var R=function(e){function TrackedCourseRating(){return e.apply(this,arguments)||this}a()(TrackedCourseRating,e);var t=TrackedCourseRating.prototype;return t.getChildContext=function getChildContext(){var e=this.props.course,t=e.get?e.get("id"):e.id;return{track:d.a.makeTracker({namespace:"content_learner.rating_course",include:{course_id:t}})}},t.render=function render(){return o.a.createElement(m,this.props)},TrackedCourseRating}(o.a.Component);R.propTypes={course:i.a.object.isRequired,ratingFeedback:i.a.instanceOf(f.a).isRequired},R.childContextTypes={track:i.a.func};var E=function(e){function FluxibleCourseRating(){return e.apply(this,arguments)||this}a()(FluxibleCourseRating,e);var t=FluxibleCourseRating.prototype;return t.componentWillMount=function componentWillMount(){this.fluxibleContext=l.a.createContext()},t.render=function render(){return o.a.createElement(g.a,{context:this.fluxibleContext.getComponentContext()},o.a.createElement(R,this.props))},FluxibleCourseRating}(o.a.Component);e.default=E},FyPc:function(module,exports,e){var t=e("dunj"),n=e("V9xz"),a=e("ut/Y");function maxBy(e,r){return e&&e.length?t(e,a(r,2),n):void 0}module.exports=maxBy},G4ol:function(module,exports,e){},GAn1:function(module,exports,e){var t=e("RML7"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},Gg26:function(module,e,t){"use strict";var n,a=new(t("DnuM").a)("/api/courseFeedbackCounts.v1",{type:"rest"});e.a=a},ImWt:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("sbe7"),i=t.n(r),s=t("17x9"),o=t.n(s),c=t("+2ZD"),u=t("esdG"),l=t.n(u),d=t("TOZ3"),h=t("AWZ4"),g=t("YU7U"),f=t.n(g),p=function(e){function CourseSurveyModal(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).continueButtonRef=function(e){return t.continueButton=e},t}a()(CourseSurveyModal,e);var t=CourseSurveyModal.prototype;return t.componentDidMount=function componentDidMount(){this.continueButton.focus()},t.render=function render(){var e=this.props,t=e.onClose,n=e.onContinue;return i.a.createElement(c.a,{className:"rc-CourseSurveyModal",modalName:l()("Rate this course"),handleClose:t},i.a.createElement(d.b,{flexDirection:"column",alignItems:"center",justifyContent:"center",rootClassName:"message"},i.a.createElement("p",{className:"large-text"},l()("Thank you!")),i.a.createElement("p",{className:"main-text"},l()("Please also give feedback to Coursera and the instructor in a 2-minute survey"))),i.a.createElement(d.b,{justifyContent:"between",rootClassName:"footer-container"},i.a.createElement(h.b,{type:"noStyle",label:l()("No thanks"),onClick:t,htmlAttributes:{title:l()("Close Survey Modal")}}),i.a.createElement(h.b,{type:"primary",label:l()("Continue"),onClick:n,_refAlt:this.continueButtonRef,htmlAttributes:{title:l()("Take Survey")}})))},CourseSurveyModal}(i.a.Component);p.propTypes={onClose:o.a.func.isRequired,onContinue:o.a.func.isRequired},e.a=p},JzBE:function(module,e,t){"use strict";var n=t("W8MJ"),a=t.n(n),r=t("VYij"),i=t.n(r),s=t("EVkW"),o=function(){function RatingCollection(){this.models=[],this.page=0,this.totalCount=0}var e=RatingCollection.prototype;return e.isEmpty=function isEmpty(){return 0===this.models.length},e.setTotalCount=function setTotalCount(e){this.totalCount=e},e.appendPage=function appendPage(e){var t=this;i()(e).each(function(e){var n=e.rating,a=e.timestamp,r=e.id,i=new s.a(n.value,n.active,e.comments.generic,a,r);t.models.push(i)}),this.page+=1},a()(RatingCollection,[{key:"length",get:function get(){return this.models.length}},{key:"hasPendingPage",get:function get(){return this.totalCount!==this.length}}]),RatingCollection}();e.a=o},Md22:function(module,e,t){"use strict";var n=function Session(e){var t=e.courseId,n=e.endedAt,a=e.enrollmentEndedAt,r=e.id,i=e.isPrivate,s=e.isPreview,o=e.startedAt;this.courseId=t,this.endedAt=n,this.enrollmentEndedAt=a,this.id=r,this.isPrivate=i,this.isPreview=s,this.startedAt=o};e.a=n},OOvi:function(module,e,t){"use strict";t.d(e,"b",function(){return l}),t.d(e,"a",function(){return d});var n=t("Q7fu"),a=t("EVkW"),r=t("TuMe"),i=function getCourseReviews(e,t){var n=t.courseId,a=t.branchId,i=t.reviewCollection,s=t.ratingValue,o=t.learnerAudience,c=t.isBranchChange,u=void 0!==c&&c;return e.dispatch("GET_REVIEWS",{reviewCollection:i}),r.a.getReviews(n,a,o,u?0:i.page,s.value).then(function(t){var n=t.feedbacks,a=t.totalCount,r=t.next;e.dispatch("RECEIVE_REVIEWS",{reviewCollection:i,feedbacks:n,totalCount:a,next:r})}).done()},s=function getCourseRatingStats(e,t){var a=t.courseId,i=t.branchId,s=t.learnerAudience,o=t.totalCount,c=t.averageRating;return r.a.getRatingStats(a,i,s).then(function(t){var a={};void 0!==o&&void 0!==c&&(a={totalCount:o,averageRating:c});var r=new n.a(t,a);e.dispatch("RECEIVE_COURSE_RATING_STATS",{courseRatingStats:r})}).done()},o=function changeBranchId(e,t){var n=t.courseId,a=t.branchId,r=t.ratingValue,o=t.learnerAudience,c=t.reviewCollection;e.dispatch("SET_FEEDBACK_BRANCH_ID",{branchId:a}),e.executeAction(i,{courseId:n,branchId:a,reviewCollection:c,ratingValue:r,learnerAudience:o,isBranchChange:!0}),e.executeAction(s,{courseId:n,branchId:a,learnerAudience:o})},c=function filterCourseReviews(e,t){var n=t.courseId,a=t.branchId,r=t.ratingValue,s=t.learnerAudience,o=e.getStore("CourseRatingStore");e.dispatch("FILTER_REVIEWS",{ratingValue:r});var c=o.getReviewCollection();c.isEmpty()&&e.executeAction(i,{courseId:n,branchId:a,reviewCollection:c,ratingValue:r,learnerAudience:s})},u=function filterCourseRatings(e,t){var n=t.courseId,a=t.branchId,r=t.ratingValue,o=t.learnerAudience,c=e.getStore("CourseRatingStore");e.dispatch("FILTER_RATINGS",{learnerAudience:o});var u=c.getReviewCollection(),l=c.getCourseRatingStats();u.isEmpty()&&e.executeAction(i,{courseId:n,branchId:a,reviewCollection:u,ratingValue:r,learnerAudience:o}),l||e.executeAction(s,{courseId:n,branchId:a,learnerAudience:o})},l=function receiveMyCourseRating(e,t){var n=t.ratingFeedback;e.dispatch("RECEIVE_MY_RATING",{ratingFeedback:n})},d=function postMyCourseRating(e,t){var n=t.courseId,i=t.value,s=t.active,o=t.comment,c=new a.a(i,s,o);return e.executeAction(l,{ratingFeedback:c}),r.a.postFeedback(n,c)},h=function deleteFeedback(e,t){return r.a.deleteFeedback(t).then(function(){e.dispatch("DELETE_FEEDBACK",t)}).done()}},Q7fu:function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=function(){function CourseRatingStats(e,t){var n=this;this.counts=e,this.totalCount=0,this.averageRating=0,a()(this.counts).each(function(e,t){n.totalCount=n.totalCount+e,n.averageRating=n.averageRating+t*e}),this.averageRating=parseFloat((this.averageRating/this.totalCount).toFixed(1)),t&&Object.assign(this,t)}var e=CourseRatingStats.prototype;return e.getCount=function getCount(e){return this.counts[e.value]||0},e.getPercent=function getPercent(e){if(!this.totalCount)return 0;return Math.round(this.getCount(e)/this.totalCount*100)},CourseRatingStats}();e.a=r},RML7:function(module,exports,e){},SIjG:function(module,e,t){"use strict";var n=t("esdG"),a=t.n(n);e.a=function(){return[{value:-1,label:a()("All reviews")},{value:5,label:a()("5 star")},{value:4,label:a()("4 star")},{value:3,label:a()("3 star")},{value:2,label:a()("2 star")},{value:1,label:a()("1 star")}]}},TuMe:function(module,e,t){"use strict";var n=t("wiyT"),a=t.n(n),r=t("VYij"),i=t.n(r),s=t("BYll"),o=t("RKmy"),c=t("Gg26"),u=t("asG6"),l=t("BjxC"),d=t("w18m"),h=t("BDKN"),g=t.n(h),f=t("ibP9"),p={getRatingStats:function getRatingStats(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(d.a)().AllLearners,r=(new g.a).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",l.c.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("countBy","ratingValue");return t!==f.a&&r.addQueryParam("courseBranchId",t),n.id===Object(d.a)().Completers.id&&r.addQueryParam("courseCompleted",!0),a()(c.a.get(r.toString())).then(function(e){return e.elements[0].counts})},getReviews:function getReviews(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:10,c=(new g.a).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",l.c.Rating).addQueryParam("ratingValues",-1===i?"1,2,3,4,5":i).addQueryParam("categories","generic").addQueryParam("start",r*s).addQueryParam("limit",s);return t!==f.a&&c.addQueryParam("courseBranchId",t),n.id===Object(d.a)().Completers.id&&c.addQueryParam("courseCompleted",!0),a()(o.a.get(c.toString())).then(function(e){var t=e.elements,n=e.paging,a,r;return{feedbacks:t,totalCount:n.total,next:n.next}})},getFeedback:function getFeedback(e){var t=(new g.a).addQueryParam("q","course").addQueryParam("courseId",e);return a()(s.a.get(t.toString())).then(function(e){return e.elements[0]})},multiGetStarFeedback:function multiGetStarFeedback(e){var t=20,n=i()(e).chain().groupBy(function(e,t){return Math.floor(t/20)}).toArray().value(),r=i()(n).map(function(e){var t=(new g.a).addQueryParam("q","byCourseAndFeedback").addQueryParam("courseIds",e.join(",")).addQueryParam("feedbackSystem","STAR");return a()(s.a.get(t.toString())).then(function(e){return e.elements})});return a.a.all(r).then(function(e){return i()(e).flatten()})},postFeedback:function postFeedback(e,t){var n=(new g.a).addQueryParam("action","submit").addQueryParam("courseId",e).addQueryParam("feedbackSystem",l.c.Rating);return a()(s.a.post(n.toString(),{data:t.toObject()}))},deleteFeedback:function deleteFeedback(e){var t=(new g.a).addQueryParam("action","hide").addQueryParam("feedbackId",e);return a()(u.a.post(t.toString()))}};e.a=p;var C=p.getRatingStats,v=p.getReviews,m=p.getFeedback,R=p.multiGetStarFeedback,E=p.postFeedback,b=p.deleteFeedback},V9xz:function(module,exports){function baseGt(e,t){return e>t}module.exports=baseGt},Vroy:function(module,e,t){"use strict";t.d(e,"a",function(){return d});var n=t("lSNA"),a=t.n(n),r=t("MVZn"),i=t.n(r),s=t("VYij"),o=t.n(s),c=t("ibP9"),u=t("HFLA"),l={branches:{},drafts:{}};function branches(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"ON_BRANCHES_LOADING":return i()({},n,{loadingAll:!0,loadedAll:!1});case"ON_BRANCHES_LOAD_SUCCESS":return i()({},n,{loadingAll:!1,loadedAll:!0,branches:o()(t.branches).indexBy("id")});case"SAVE_BRANCH":return i()({},n,{branches:Object.assign({},n.branches,a()({},t.branchId,Object.assign({},t.branch,{id:t.branchId})))});case"SAVE_DRAFTS_FOR_BRANCH":return i()({},n,{drafts:Object.assign({},n.drafts,a()({},t.branchId,t.drafts))});case"SAVE_CONFLICT_METADATA_FOR_BRANCH":case"VALIDATE_BRANCH":case"ON_BRANCH_CREATING":case"ON_BRANCH_UPDATE_SUCCESS":case"ON_BRANCH_UPDATE_FAILURE":case"ON_BRANCH_DELETING":case"ON_BRANCH_DELETE_SUCCESS":default:return n}}var d=Object(u.a)(branches,c.c.BRANCHES_STORE,["ON_BRANCHES_LOADING","ON_BRANCHES_LOAD_SUCCESS","ON_BRANCH_CREATING","ON_BRANCH_UPDATE_SUCCESS","ON_BRANCH_UPDATE_FAILURE","SAVE_BRANCH","ON_BRANCH_DELETING","ON_BRANCH_DELETE_SUCCESS","SAVE_CONFLICT_METADATA_FOR_BRANCH","SAVE_DRAFTS_FOR_BRANCH"],l),h=branches},XvaQ:function(module,exports,e){},YU7U:function(module,exports,e){var t=e("XvaQ"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},bEJl:function(module,e,t){"use strict";var n=t("pVnL"),a=t.n(n),r=t("VbXa"),i=t.n(r),s=t("sbe7"),o=t.n(s),c=t("17x9"),u=t.n(c),l=t("+eFp"),d=t.n(l),h=t("+OrT"),g=t("OOvi"),f=t("h4VP"),p=t("kvW3"),C=t("8cuT"),v=t.n(C),m=t("6gRZ"),R=t.n(m),E=t("EVkW"),b=t("esdG"),S=t.n(b),A=t("ltFc"),I=t("ijI/"),y=t("ImWt"),B=function(e){function CourseRatingContent(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={showModal:!1,showSurveyModal:!1,showMessage:!1,message:""},t.handleClick=function(e){var n=t.context.track;e.preventDefault(),n("click.rating"),t.setState({showModal:!0})},t.handleClose=function(){var e;(0,t.context.track)("click.cancel"),t.setState({showModal:!1})},t.handleSubmit=function(e,n){var a=t.context,r=a.track,i=a.executeAction,s=t.props.course,c=t.getCourseNameAndId(s),u=c.courseId,l=c.courseName;t.setState({showModal:!1,showSurveyModal:!0,showMessage:!0,message:o.a.createElement(p.a,{message:S()("Your review of <strong>{courseName}</strong> has been submitted."),courseName:l})}),i(g.a,{courseId:u,value:e,active:!0,comment:n}),r("click.submit",{feedback_length:f.a.getLength(n),feedback_value:e})},t.handleClear=function(){var e=t.context,n=e.track,a=e.executeAction,r=t.props.course,i=t.getCourseNameAndId(r),s=i.courseId,c=i.courseName;t.setState({showModal:!1,showMessage:!0,message:o.a.createElement(p.a,{message:S()("Your review of <strong>{courseName}</strong> has been removed."),courseName:c})}),a(g.a,{courseId:s,value:0,active:!1,comment:f.a.create("")}),n("click.clear")},t.handleMessageTimeout=function(){t.setState({showMessage:!1})},t.handleSurveyContinue=function(){var e=t.context.track,n=t.props,a=n.user,r=n.course,i,s=t.getCourseNameAndId(r).courseId,o="https://www.surveymonkey.com/r/3N5SQ3L?externalUserId=".concat(a.external_id,"&courseId=").concat(s);t.setState({showSurveyModal:!1}),window.open(o,"_blank"),e("survey_modal.click.continue",{user_id:a.external_id})},t.handleSurveyClose=function(){var e=t.context.track,n=t.props.user;t.setState({showSurveyModal:!1}),e("survey_modal.click.close",{user_id:n.external_id})},t}i()(CourseRatingContent,e);var t=CourseRatingContent.prototype;return t.getCourseNameAndId=function getCourseNameAndId(e){var t=!!e.get;return{courseId:t?e.get("id"):e.id,courseName:t?e.get("name"):e.name}},t.render=function render(){var e=this.state,t=e.showModal,n=e.showMessage,r=e.message,i=e.showSurveyModal,s=this.props.ratingFeedback,c=S()("Rate this course"),u=o.a.createElement(m.Tooltip,null,c);if(!s)return o.a.createElement("div",null);return o.a.createElement("div",{className:"rc-CourseRatingContent"},o.a.createElement(m.OverlayTrigger,{placement:"top",overlay:u},o.a.createElement("button",{ref:"icons",type:"button",className:"c-course-rating-icons-container nostyle button-link",onClick:this.handleClick,"aria-label":S()("Rate this course")},o.a.createElement(I.a,{value:s.value}))),t&&o.a.createElement(A.a,a()({},this.props,{onSubmit:this.handleSubmit,onClear:this.handleClear,onClose:this.handleClose})),i&&o.a.createElement(y.a,{onContinue:this.handleSurveyContinue,onClose:this.handleSurveyClose}),o.a.createElement(d.a,{transitionName:"fade",transitionEnterTimeout:500,transitionLeaveTimeout:500},n&&o.a.createElement(h.a,{key:"feedback-complete",onTimeout:this.handleMessageTimeout},r)))},CourseRatingContent}(o.a.Component);B.propTypes={course:u.a.object.isRequired,ratingFeedback:u.a.instanceOf(E.a)},B.contextTypes={executeAction:u.a.func.isRequired,track:u.a.func.isRequired},e.a=v()(B,["ApplicationStore","CourseRatingStore"],function(e,t){var n=e.ApplicationStore,a;return{ratingFeedback:e.CourseRatingStore.getMyRatingFeedback(),user:n.getUserData()}});var N=B},dunj:function(module,exports,e){var t=e("/9aa");function baseExtremum(e,n,a){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=n(s);if(null!=o&&(void 0===c?o==o&&!t(o):a(o,c)))var c=o,u=s}return u}module.exports=baseExtremum},hYTS:function(module,exports,e){var t=e("4KlA"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},iILo:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("VYij"),i=t.n(r),s=t("Koac"),o=t.n(s),c=t("Md22"),u=t("ByX+"),l=t("CBtc"),d=t("jqTA"),h=["course","courseRole","sessions","branches","unlistedBranches"],g=function(e){function TeachAppStore(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).course=null,t.courseRole="BROWSER",t.sessions=[],t.branches=[],t.unlistedBranches=[],t}a()(TeachAppStore,e);var t=TeachAppStore.prototype;return t.dehydrate=function dehydrate(){return i.a.pick.apply(i.a,[this].concat(h))},t.rehydrate=function rehydrate(e){Object.assign(this,i.a.pick.apply(i.a,[e].concat(h))),this.course=new u.a(e.course),e.sessions.length>0&&(this.sessions=e.sessions.map(function(e){return new c.a(e)})),e.branches.length>0&&(this.branches=e.branches.map(function(e){return new l.a(e)})),e.unlistedBranches.length>0&&(this.unlistedBranches=e.unlistedBranches.map(function(e){return new l.a(e)}))},t.getCourse=function getCourse(){return this.course},t.getCourseRole=function getCourseRole(){return this.courseRole},t.getSessions=function getSessions(){return this.sessions},t.getBranches=function getBranches(){return this.branches},t.getUnlistedBranches=function getUnlistedBranches(){return this.unlistedBranches},t.getLaunchedBranches=function getLaunchedBranches(){return this.branches.filter(function(e){return Object(d.e)(e.branchStatus,e.isPrivate)})},t.hasPrivateBranch=function hasPrivateBranch(){return!!this.branches.find(function(e){return e.isPrivate})},t.getBranchForSession=function getBranchForSession(e){return this.branches.find(function(t){return!!t.associatedSessions[e]})},TeachAppStore}(o.a);g.storeName="TeachAppStore",g.handlers={RECEIVE_COURSE:function RECEIVE_COURSE(e){this.course=new u.a(e),this.emitChange()},RECEIVE_MEMBERSHIP_FOR_COURSE:function RECEIVE_MEMBERSHIP_FOR_COURSE(e){this.courseRole=e,this.emitChange()},RECEIVE_SESSIONS_FOR_COURSE:function RECEIVE_SESSIONS_FOR_COURSE(e){this.sessions=e.map(function(e){return new c.a(e)}),this.emitChange()},RECEIVE_BRANCHES_FOR_COURSE:function RECEIVE_BRANCHES_FOR_COURSE(e){var t=e.map(function(e){return new l.a(e)});this.branches=t.filter(function(e){return e.listed}),this.unlistedBranches=t.filter(function(e){return!e.listed}),this.emitChange()}},e.a=g},"ijI/":function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("w/1P"),i=t.n(r),s=t("17x9"),o=t.n(s),c=t("sbe7"),u=t.n(c),l=t("t57v"),d=t.n(l),h=function(e){function CourseRatingIcons(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={highlightValue:-1},t.handleMouseLeave=function(){t.setState({highlightValue:-1})},t}a()(CourseRatingIcons,e);var t=CourseRatingIcons.prototype;return t.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},t.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},t.renderIcon=function renderIcon(e,t){var n=this,a=e<=this.state.highlightValue,r=this.state.highlightValue>-1,s=e%1!=0,o=i()("c-course-rating-icon",{"cif-star":a||t&&!r&&!s,"cif-star-half-empty":!a&&t&&!r&&s,"cif-star-o":!a&&(!t||r),highlight:a});return u.a.createElement("i",{key:e,className:o,onMouseOver:!this.props.readOnly&&function(){return n.handleMouseOver(e)},onClick:function onClick(){return n.handleSelect(e)},"aria-hidden":"true"})},t.render=function render(){var e=this,t=i()("rc-CourseRatingIcons",this.props.size,{"read-only":this.props.readOnly}),n=CourseRatingIcons.getRatingDistribution(this.props.value);return u.a.createElement("div",{className:t,onMouseLeave:this.handleMouseLeave,"data-e2e":"course-rating"},n.map(function(t){var n=t.value,a=t.selected;return e.renderIcon(n,a)}))},CourseRatingIcons}(u.a.Component);h.propTypes={onSelect:o.a.func,readOnly:o.a.bool,value:o.a.number.isRequired,size:o.a.oneOf(["small","large"])},h.defaultProps={size:"small",readOnly:!0},h.getRatingDistribution=function(e){var t=.5,n=[],a=Math.round(2*e)/2;for(5!==e&&(a=Math.min(a,4.5));t<=a;){var r;t%1!=0?t+.5>a?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},e.a=h},jqTA:function(module,e,t){"use strict";t.d(e,"d",function(){return g}),t.d(e,"b",function(){return p}),t.d(e,"a",function(){return C}),t.d(e,"e",function(){return v}),t.d(e,"c",function(){return N}),t.d(e,"f",function(){return V});var n=t("MVZn"),a=t.n(n),r=t("FyPc"),i=t.n(r),s=t("J2m7"),o=t.n(s),c=t("bdFs"),u=t.n(c),l=t("ibP9"),d=function isBaseBranch(e){return!/(authoringBranch|branch)~.+/.test(e)},h=function findCorrespondingCourseBranchId(e,t,n){var a=o()(e,function(e){return e.id===n});return a?a.courseBranchId:t},g=function getSortedSessions(e){return Object.keys(e.associatedSessions).map(function(t){return Object.assign({},e.associatedSessions[t],{id:t})}).sort(function(e,t){return e.startedAt-t.startedAt})},f=function getActiveSessions(e){if(!e.associatedSessions)return null;return Object.keys(e.associatedSessions).reduce(function(t,n){var r=e.associatedSessions[n];return Date.now()>r.startedAt&&Date.now()<r.endedAt&&t.push(a()({},r,{id:n,startedAt:u.a.utc(r.startedAt),endedAt:u.a.utc(r.endedAt),enrollmentEndedAt:u.a.utc(r.enrollmentEndedAt)})),t},[]).sort(function(e,t){return e.startedAt-t.startedAt})},p=function getDefaultEnrollableSessionId(e){if(!e.associatedSessions)return null;var t=f(e);if(t&&t.length>0)return t[0].id;var n=g(e);if(n&&n[0])return n[0].id;return null},C=function associatedSessionsAreFinal(e){return e.filter(function(e){return e.enrollmentEndedAt>u()()}).length<=1},v=function isLaunched(e,t){if(t)return e===l.b.LIVE||e===l.b.ARCHIVED;var n;return!![l.b.LIVE,l.b.ARCHIVED,l.b.UPCOMING].find(function(t){return e===t})},m=function canLaunch(e){return!d(e.id)&&(e.branchStatus===l.b.NEW||e.branchStatus===l.b.PENDING)},R=function canCreateNewBranch(e){return!e.find(function(e){return e.branchStatus!==l.b.LIVE&&e.branchStatus!==l.b.ARCHIVED&&!e.isPrivate&&e.branchStatus!==l.b.UPCOMING})},E=function isPrivateLiveBranch(e,t){return t&&e===l.b.LIVE},b=function allowBreakingAction(e,t){return t||e===l.b.NEW||e===l.b.PENDING},S=function isBreakingChangeAllowed(e){return e.isPrivate&&e.branchStatus===l.b.LIVE},A=function hasCreatingBranch(e){return!!e.find(function(e){return e.branchStatus===l.b.CREATING})},I=function getBranchIdForSession(e,t){if(1===t.length)return t[0].id;var n=t.find(function(t){return t.associatedSessions[e]});return n&&n.id},y=function getPublicBranches(e){return e.filter(function(e){return!e.isPrivate&&e.listed})},B=function getLatestBranch(e){if(1===e.length)return e[0];return i()(e,"createdAt")||e[0]},N=function getLatestSelectableBranch(e){if(1===e.length)return e[0];var t=e.filter(function(e){return e.branchStatus!==l.b.ARCHIVED&&e.branchStatus!==l.b.CREATING});return 0===t.length&&(t=e.filter(function(e){return e.branchStatus===l.b.ARCHIVED&&e.branchStatus!==l.b.CREATING})),B(t)},V=function pushBranchIdToUrl(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.location,i=t.push,s=r.query;delete s.sessionId,delete s.groupId,delete s.agVersionId;var o=n?a()({},s,{versionId:e,agVersionId:e}):a()({},s,{versionId:e}),c=a()({},r,{query:o});i(c)}},kb8M:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("17x9"),i=t.n(r),s=t("sbe7"),o=t.n(s),c=t("GXs9"),u=t("wC9n"),l=t.n(u),d=function(e){function CourseRatingHeader(){return e.apply(this,arguments)||this}var t;return a()(CourseRatingHeader,e),CourseRatingHeader.prototype.render=function render(){var e,t="",n="",a="";if(this.props.catalogPCourse){var r=this.props.catalogPCourse;if(r.get)t=r.get("photoUrl"),n=(e=r.get("partners"))?e.at(0).get("name"):"",a=r.get("name");else{var i=r;t=i.photoUrl,a=i.name}}else{var s=this.props.openCourse;t=s.get("promoPhoto"),n=(e=s.get("universities")).models&&e.models[0]&&e.models[0].get("name")||"",a=s.get("name")}return o.a.createElement("div",{className:"rc-CourseRatingHeader"},o.a.createElement(c.a,{width:200,alt:c.a.DECORATIVE,src:t,className:"c-course-rating-header-img"}),o.a.createElement("div",{className:"c-course-rating-header-content"},o.a.createElement("div",{className:"body-2-text"},n),o.a.createElement("h3",null,a)))},CourseRatingHeader}(o.a.Component);d.propTypes={catalogPCourse:i.a.object,openCourse:i.a.object},e.a=d},lXpx:function(module,e,t){"use strict";var n=t("VYij"),a=t.n(n),r=t("VvWD"),i=t.n(r),s=t("4qg5"),o=i()({storeName:"CourseRatingStore",initialize:function initialize(){this.myRatingFeedback=null,this.isLoadingReviews=!1,this.courseRatings=new s.a},getMyRatingFeedback:function getMyRatingFeedback(){return this.myRatingFeedback},getReviewCollection:function getReviewCollection(){return this.courseRatings.reviewCollection},getBranchId:function getBranchId(){return this.courseRatings.branchId},getRatingValue:function getRatingValue(){return this.courseRatings.ratingValue},getLearnerAudience:function getLearnerAudience(){return this.courseRatings.learnerAudience},getCourseRatingStats:function getCourseRatingStats(){return this.courseRatings.stats},getIsLoadingReviews:function getIsLoadingReviews(){return this.isLoadingReviews}});o.handlers={GET_REVIEWS:function GET_REVIEWS(e,t){var n=e.reviewCollection;this.isLoadingReviews=!0,this.emitChange()},RECEIVE_REVIEWS:function RECEIVE_REVIEWS(e,t){var n=e.feedbacks,a=e.totalCount;this.isLoadingReviews=!1,this.courseRatings.appendReviews(n,a),this.emitChange()},DELETE_FEEDBACK:function DELETE_FEEDBACK(e){this.courseRatings.deleteReview(e),this.emitChange()},FILTER_REVIEWS:function FILTER_REVIEWS(e,t){var n=e.ratingValue;this.courseRatings.setRatingValue(n),this.emitChange()},RECEIVE_COURSE_RATING_STATS:function RECEIVE_COURSE_RATING_STATS(e,t){var n=e.courseRatingStats;this.courseRatings.setStats(n),this.emitChange()},FILTER_RATINGS:function FILTER_RATINGS(e,t){var n=e.learnerAudience;this.courseRatings.setLearnerAudience(n),this.emitChange()},RECEIVE_MY_RATING:function RECEIVE_MY_RATING(e,t){var n=e.ratingFeedback;this.myRatingFeedback=n,this.emitChange()},SET_FEEDBACK_BRANCH_ID:function SET_FEEDBACK_BRANCH_ID(e,t){var n=e.branchId;this.courseRatings.setBranchId(n),this.emitChange()}},e.a=o},ltFc:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("w/1P"),i=t.n(r),s=t("17x9"),o=t.n(s),c=t("sbe7"),u=t.n(c),l=t("xjJk"),d=t("zvZl"),h=t("EVkW"),g=t("h4VP"),f=t("+2ZD"),p=t("kvW3"),C=t("esdG"),v=t.n(C),m=t("kb8M"),R=t("hYTS"),E=t.n(R),b=function(e){function CourseRatingModal(t,n){var a;(a=e.call(this,t,n)||this).handleChange=function(e){a.setState(function(){return{comment:e}})},a.handleSubmit=function(){a.props.onSubmit(a.state.value,a.state.comment)},a.handleClear=function(){a.props.onClear()},a.handleSelect=function(e){a.setState(function(){return{value:e}})};var r=t.ratingFeedback,i=r.comment,s=r.value;return a.state={comment:i||g.a.create(),value:s},a}var t;return a()(CourseRatingModal,e),CourseRatingModal.prototype.render=function render(){var e=0!==this.state.value,t=i()("teach-btn","teach-btn-primary","c-course-rating-submit",{disabled:!e}),n=i()("c-course-rating-clear","teach-btn","teach-btn-dark");return u.a.createElement(f.a,{className:"rc-CourseRatingModal",modalName:v()("Rate this course"),handleClose:this.props.onClose},u.a.createElement(m.a,{catalogPCourse:this.props.course}),u.a.createElement("h3",null,v()("Your review")),u.a.createElement(l.a,{size:"large",readOnly:!1,value:this.state.value,onClear:this.handleClear,onSelect:this.handleSelect,radioName:"course-rating-modal"}),u.a.createElement(d.a,{isFocused:!0,cml:this.state.comment,placeholder:v()("Write your review (optional)"),onChange:this.handleChange}),u.a.createElement("div",{className:"footer-container"},u.a.createElement("div",{className:"body-1-text c-course-rating-disclaimer"},u.a.createElement(p.a,{message:v()('By clicking Submit, I agree that my feedback may be viewed by the Coursera community,\n                in compliance with the Coursera <a href="https://www.coursera.org/about/terms" target="_blank">\n                Terms of Use</a> and My Profile privacy settings.')})),u.a.createElement("div",{className:"submit-container horizontal-box"},!!this.props.ratingFeedback.value&&u.a.createElement("button",{title:v()("Remove course review"),className:n,onClick:this.handleClear},v()("Clear")),u.a.createElement("button",{title:v()("Submit course review"),className:t,onClick:this.handleSubmit,disabled:!e},v()("Submit")))))},CourseRatingModal}(u.a.Component);b.propTypes={course:o.a.object.isRequired,ratingFeedback:o.a.instanceOf(h.a).isRequired,onClose:o.a.func.isRequired,onSubmit:o.a.func.isRequired,onClear:o.a.func.isRequired},e.a=b},mVDR:function(module,e,t){"use strict";t.d(e,"a",function(){return o});var n=t("MVZn"),a=t.n(n),r=t("ibP9"),i=t("HFLA"),s={selection:null};function branchSelection(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"SELECT_BRANCH":return a()({},n,{selection:t.branchId});case"LOAD_BRANCH":return a()({},n,{branch:t.branch});default:return n}}var o=Object(i.a)(branchSelection,r.c.BRANCH_SELECTION_STORE,["SELECT_BRANCH","LOAD_BRANCH"],s),c=branchSelection},t57v:function(module,exports,e){var t=e("G4ol"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},u9mB:function(module,exports,e){},w18m:function(module,e,t){"use strict";var n=t("esdG"),a=t.n(n);e.a=function(){return{AllLearners:{id:"ALL_LEARNERS",label:a()("All learners"),eventKey:"all_learners"},Completers:{id:"COMPLETERS",label:a()("Completers"),eventKey:"completers"}}}},wC9n:function(module,exports,e){var t=e("u9mB"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},xjJk:function(module,e,t){"use strict";var n=t("VbXa"),a=t.n(n),r=t("w/1P"),i=t.n(r),s=t("sbe7"),o=t.n(s),c=t("t57v"),u=t.n(c),l=t("esdG"),d=t.n(l),h=t("kvW3"),g=function(e){function CourseRatingIconsAccessible(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={highlightValue:-1,focusValue:-1},t.handleMouseLeave=function(){t.setState(function(){return{highlightValue:-1}})},t}a()(CourseRatingIconsAccessible,e);var t=CourseRatingIconsAccessible.prototype;return t.handleMouseOver=function handleMouseOver(e){this.setState(function(){return{highlightValue:e}})},t.handleFocus=function handleFocus(e){this.setState(function(){return{focusValue:e}})},t.handleSelect=function handleSelect(e){this.setState(function(){return{highlightValue:-1}}),this.props.onSelect&&this.props.onSelect(e)},t.renderIcon=function renderIcon(e,t){var n=this,a=this.props,r=a.readOnly,s=a.radioName,c=this.state,u=c.highlightValue,l=c.focusValue,g=e<=u,f=void 0!==e&&e===l,p=u>-1,C=e%1!=0,v=i()("c-course-rating-icon",{"cif-star":g||t&&!p&&!C,"cif-star-half-empty":!g&&t&&!p&&C,"cif-star-o":!g&&(!t||p),highlight:g,focused:f}),m=e===this.props.value,R,E={type:"radio",name:s,className:"sr-only",onChange:function onChange(){return n.handleSelect(e)},onFocus:function onFocus(){return n.handleFocus(e)},onBlur:function onBlur(){return n.handleFocus(-1)},value:e,checked:m,tabIndex:m?0:-1};return o.a.createElement("label",{className:v,onMouseOver:r?void 0:function(){return n.handleMouseOver(e)},key:e},o.a.createElement("input",E),o.a.createElement("span",{className:"sr-only"},o.a.createElement(h.b,{message:d()("{stars} {stars, plural, one {Star} other {Stars}}"),stars:e})))},t.renderUnselected=function renderUnselected(e){var t=this,n=!e.map(function(e){return e.selected}).some(function(e){return!!e}),a=this.props.radioName,r=n?0:-1;return o.a.createElement("label",{className:"sr-only"},o.a.createElement("input",{type:"radio",value:"0",name:a,onChange:function onChange(){return t.handleSelect(0)},onFocus:function onFocus(){return t.handleFocus(0)},onBlur:function onBlur(){return t.handleFocus(-1)},checked:n,tabIndex:r}),o.a.createElement("span",{className:"sr-only"},d()("Unselect rating")))},t.render=function render(){var e=this,t=this.props,n=t.readOnly,a=t.value,r=this.state.focusValue,s=i()("rc-CourseRatingIcons rc-CourseRatingIconsAccessible",this.props.size,{"read-only":n,focused:0===r}),c=CourseRatingIconsAccessible.getRatingDistribution(a);return o.a.createElement("div",{className:s,onMouseLeave:this.handleMouseLeave},this.renderUnselected(c),c.map(function(t){return e.renderIcon(t.value,t.selected)}))},CourseRatingIconsAccessible}(o.a.Component);g.defaultProps={size:"small",readOnly:!0},g.getRatingDistribution=function(e){var t=.5,n=[],a=Math.round(2*e)/2;for(5!==e&&(a=Math.min(a,4.5));t<=a;){var r;t%1!=0?t+.5>a?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},e.a=g}}]);
//# sourceMappingURL=77.3bcaf4fdded2926b9b3b.js.map